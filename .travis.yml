language: perl

install:
  - cpanm -n Dist::Zilla
  - dzil authordeps --missing | cpanm -n
  - cpanm -n Capture::Tiny Clustericious::Client Clustericious Clustericious::Commands Clustericious::Config Clustericious::Log Digest::file
  - cpanm -n File::HomeDir File::Path Filesys::Df Hash::MoreUtils JSON::XS List::MoreUtils Log::Log4perl Log::Log4perl::CommandLine
  - cpanm -n Mojolicious Number::Bytes::Human Smart::Comments Test::Clustericious::Cluster Test::Clustericious::Config
  - cpanm -n Test::Clustericious::Log Test::More Try::Tiny YAML::XS 
  - cpanm -n Test::CPAN::Changes Test::EOL Test::Fixme Test::NoTabs Test::Pod::Spelling::CommonMistakes Test::Spelling Test::Strict Test::Version || true

script: YC_LIVE_TESTS=1 dzil test -v

perl:
  - "5.21"
  - "5.20"
  - "5.18"
  - "5.16"
  - "5.14"
  - "5.12"
  - "5.10"

branches:
  only:
    - master
